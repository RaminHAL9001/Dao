string.compare = approximate;

BEGIN {
	print("--- BEGIN ---");
	qtime(comma) = list{};
	//print("qtime(comma) = " + qtime(comma));
	print("--- RULES ---");
}

rule "$*, $*" {
	d = doing();
	print("query: " + d);
	if(defined(static(lastQuery)) && static(lastQuery)==d) { return; }
	else { static(lastQuery) = d; }
	print("$1 -> " + $1);
	a = join(" ", $2);
	if($1) { qtime(comma) += list{a}; }
	print("$2 -> " + $2);
	print("recurse? \"" + a + "\"");
	if(a) { do(a); }
	else { print("\"" + a + "\" is null."); }
}

END {
	print("---- END ----");
	a = 1;
	for x in qtime(comma) {
		print(a+": "+x);
		a += 1;
	}
}

